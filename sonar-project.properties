sonar.projectKey=Python_App
sonar.projectName=Python_App
sonar.projectVersion=1.0
sonar.sourceEncoding=UTF-8

# Source and test paths - CRITICAL
sonar.sources=app
sonar.tests=tests

# Python specific settings
sonar.language=py
sonar.python.version=3.9

# Coverage configuration - FORCE SonarQube to read coverage correctly
sonar.python.coverage.reportPaths=./coverage.xml
sonar.coverage.reportPaths=./coverage.xml

# Exclusions - be very specific about what NOT to measure
sonar.exclusions=**/tests/**,**/__pycache__/**,**/venv/**,**/.venv/**,**/migrations/**,**/node_modules/**
sonar.coverage.exclusions=**/tests/**,**/__init__.py,**/conftest.py,**/setup.py,**/manage.py

# Test configuration
sonar.test.inclusions=**/test_*.py,**/*_test.py
sonar.test.exclusions=**/__pycache__/**

# Quality gate
sonar.qualitygate.wait=true

# Force coverage analysis
sonar.python.coverage.force-zero-coverage-for-untested-files=true

# ========================================
# SECURITY VULNERABILITY SETTINGS - NEW
# ========================================

# Security Analysis Settings - Import Bandit results
sonar.python.bandit.reportPaths=bandit-report.json

# Security Hotspots Configuration
sonar.security.hotspots.inherit=NONE
sonar.security.hotspots=true

# Security Review Rating Target
sonar.security.review.rating=A

# Enable Security Vulnerability Detection
sonar.security.vulnerabilities=true

# Import external security reports
sonar.externalIssuesReportPaths=bandit-report.json

# Security Rules Configuration
sonar.issue.ignore.multicriteria=s1,s2,s3,s4
sonar.issue.ignore.multicriteria.s1.ruleKey=python:S1313
sonar.issue.ignore.multicriteria.s1.resourceKey=**/tests/**
sonar.issue.ignore.multicriteria.s2.ruleKey=python:S4507
sonar.issue.ignore.multicriteria.s2.resourceKey=**/tests/**
sonar.issue.ignore.multicriteria.s3.ruleKey=python:S5443
sonar.issue.ignore.multicriteria.s3.resourceKey=**/tests/**
sonar.issue.ignore.multicriteria.s4.ruleKey=python:S105
sonar.issue.ignore.multicriteria.s4.resourceKey=**/tests/**

# Force security analysis on all files
sonar.security.force-zero-coverage-for-untested-files=true
